<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>博客使用Gulp来压缩资源 | WINDLEAF</title><meta name="author" content="风子"><meta name="copyright" content="风子"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言本文记录了博客使用Gulp压缩Html、css、js、图片等资源的过程，以期通过上述操作达到博客访问速度加快的目。在此之前，我们简单的了解一下Gulp及其相关知识：   Gulp是一个基于node的流程管理工具，它可以实现将一系列有组织的任务，按照编程逻辑进行执行，实现开发甚至其他方面的任务管理。  gulp是node的一个模块（包），我们可以通过npm进行安装 gulp-cli是一个命令行工"><meta property="og:type" content="website"><meta property="og:title" content="博客使用Gulp来压缩资源"><meta property="og:url" content="https://blog.windandleaf.xyz/myself/%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8Gulp%E6%9D%A5%E5%8E%8B%E7%BC%A9%E8%B5%84%E6%BA%90.html"><meta property="og:site_name" content="WINDLEAF"><meta property="og:description" content="前言本文记录了博客使用Gulp压缩Html、css、js、图片等资源的过程，以期通过上述操作达到博客访问速度加快的目。在此之前，我们简单的了解一下Gulp及其相关知识：   Gulp是一个基于node的流程管理工具，它可以实现将一系列有组织的任务，按照编程逻辑进行执行，实现开发甚至其他方面的任务管理。  gulp是node的一个模块（包），我们可以通过npm进行安装 gulp-cli是一个命令行工"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><meta property="article:published_time" content="2021-06-04T16:57:49.000Z"><meta property="article:modified_time" content="2022-06-19T09:21:24.241Z"><meta property="article:author" content="风子"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/myself/pic_page/favicon.ico"><link rel="canonical" href="https://blog.windandleaf.xyz/myself/%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8Gulp%E6%9D%A5%E5%8E%8B%E7%BC%A9%E8%B5%84%E6%BA%90"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isanchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"博客使用Gulp来压缩资源",isPost:!1,isHome:!1,isHighlightShrink:!1,isToc:!1,postUpdate:"2022-06-19 09:21:24"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,n){if(0===n)return;const o=864e5*n,a={value:t,expiry:(new Date).getTime()+o};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const n=JSON.parse(t);if(!((new Date).getTime()>n.expiry))return n.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,n)=>{const o=document.createElement("script");o.src=e,o.async=!0,o.onerror=n,o.onload=o.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)});const t=saveToLocal.get("aside-status");void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));const n=()=>{GLOBAL_CONFIG_SITE.isHome&&/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")};n(),document.addEventListener("pjax:complete",n)})(window)</script><link rel="stylesheet" href="https://blog.windandleaf.xyz/picgo/DIY_Hexo_css_js/DIY.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/myself/pic_page/blog_head.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音乐</span></a></li><li><a class="site-page child" href="/video/"><i class="fa-fw fas fa-video"></i> <span>视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i> <span>关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">WINDLEAF</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音乐</span></a></li><li><a class="site-page child" href="/video/"><i class="fa-fw fas fa-video"></i> <span>视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">博客使用Gulp来压缩资源</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文记录了博客使用Gulp压缩Html、css、js、图片等资源的过程，以期通过上述操作达到博客访问速度加快的目。<br>在此之前，我们简单的了解一下Gulp及其相关知识：</p><blockquote><ol><li>Gulp是一个基于node的流程管理工具，它可以实现将一系列有组织的任务，按照编程逻辑进行执行，实现开发甚至其他方面的任务管理。</li><li>gulp是node的一个模块（包），我们可以通过npm进行安装</li><li>gulp-cli是一个命令行工具，让我们可以在命令行里运行gulp相关的命令</li></ol></blockquote><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><h3 id="安裝gulp-cli命令行工具"><a href="#安裝gulp-cli命令行工具" class="headerlink" title="安裝gulp-cli命令行工具"></a>安裝gulp-cli命令行工具</h3><p><code>npm install gulp-cli --global</code></p><h3 id="安装gulp模块"><a href="#安装gulp模块" class="headerlink" title="安装gulp模块"></a>安装gulp模块</h3><p><code>npm install gulp --save-dev</code></p><h3 id="压缩HTML"><a href="#压缩HTML" class="headerlink" title="压缩HTML"></a>压缩HTML</h3><p><code>npm install gulp-htmlclean gulp-html-minifier-terser --save-dev</code></p><h3 id="压缩CSS"><a href="#压缩CSS" class="headerlink" title="压缩CSS"></a>压缩CSS</h3><p><code>npm install gulp-clean-css --save-dev</code></p><h3 id="压缩JS"><a href="#压缩JS" class="headerlink" title="压缩JS"></a>压缩JS</h3><p><code>npm install gulp-terser --save-dev</code></p><h3 id="压缩图片"><a href="#压缩图片" class="headerlink" title="压缩图片"></a>压缩图片</h3><p><code>npm install gulp-imagemin imagemin-pngquant --save-dev</code></p><h3 id="创建-gulpfile-文件"><a href="#创建-gulpfile-文件" class="headerlink" title="创建 gulpfile 文件"></a>创建 gulpfile 文件</h3><ol><li>在Hexo的根目录，创建一个 gulpfile.js文件</li><li>写入如下代码：<br>```<br>//拉取模块<br>var gulp = require(‘gulp’); // 基础库<br>var htmlclean = require(‘gulp-htmlclean’); //HTML缩减<br>var htmlminifierterser = require(‘gulp-html-minifier-terser’); //压缩HTML<br>var cleancss = require(‘gulp-clean-css’); //压缩CSS<br>var terser = require(‘gulp-terser’); //压缩JS<br>var imagemin = require(‘gulp-imagemin’); // 图片压缩<br>var pngquant = require(‘imagemin-pngquant’); // 深度压缩</li></ol><p>// 压缩 minify-html<br>gulp.task(‘minify-html’, () =&gt; {<br>return gulp.src(‘./public/**/*.html’) //压缩 public 目錄內html<br>.pipe(htmlclean())<br>.pipe(htmlminifierterser({<br>removeComments: true, // 清除 HTML 註釋<br>collapseWhitespace: true, // 壓縮 HTML<br>collapseBooleanAttributes: true, // 省略布爾屬性的值 <input checked> ==&gt; <input><br>removeEmptyAttributes: true, // 刪除所有空格作屬性值 <input> ==&gt; <input><br>removeScriptTypeAttributes: true, // 刪除<script>的 type="text/javascript"<br>      removeStyleLinkTypeAttributes: true, // 刪除 <style> 和 <link> 的 type="text/css"<br>      minifyJS: true, // 壓縮頁面 JS<br>      minifyCSS: true, // 壓縮頁面 CSS<br>      minifyURLs: true<br>    }))<br>    .pipe(gulp.dest('./public')) // 输出路径<br>})</p>
<p>// 压缩 minify-css<br>gulp.task(‘minify-css’, () =&gt; {<br>  return gulp.src(‘./public/**/*.css’) //压缩 public 目錄內css<br>    .pipe(cleancss())<br>    .pipe(gulp.dest(‘./public’)) // 输出路径<br>})</p>
<p>// 压缩 minify-js<br>gulp.task(‘minify-js’, () =&gt;<br>  gulp.src([‘./public/**/*.{js,min.js}’]) //压缩 public 目錄內js<br>    .pipe(terser())<br>    .pipe(gulp.dest(‘./public’)) // 输出路径<br>)</p>
<p>// 压缩 minify-images<br>gulp.task(‘minify-images’, function(){<br>  return gulp.src(‘./public/img/**/*.{png,jpg,gif,svg}’) //压缩 public 目錄內圖片<br>    .pipe(imagemin({<br>      progressive: true, // 无损压缩JPG图片<br>      svgoPlugins: [{removeViewBox: false}], // 不移除svg的viewbox属性<br>      use: [pngquant()] // 使用pngquant插件进行深度压缩<br>    }))<br>    .pipe(gulp.dest(‘./public/img’)); // 输出路径<br>});</p>
<p>// 运行gulp命令时依次执行以下任务<br>//gulp.task(‘default’, gulp.parallel(<br>//    ‘minify-html’, ‘minify-css’, ‘minify-js’, ‘minify-images’<br>//  ))<br>gulp.task(‘default’, gulp.parallel(<br>    ‘minify-html’, ‘minify-css’, ‘minify-js’<br>  ))  </p>
<pre><code>
## 运行方式    
</code></pre>
<p>hexo clean<br>hexo g<br>gulp  #运行gulp<br>hexo d  </p>
<pre><code>
## 后记  
经过上述配置后，本地可以顺利完成压缩，但是放在github action上跑的时候，出现了`Error in plugin &quot;gulp-imagemin&quot;`的错误，目前已知应该为图片压缩出现问题，但是博主尚未有具体解决方案，感兴趣的小伙伴可以留言一起探讨哦。  

## 参考  
1. [Gulp中文文档](http://uprogrammer.cn/gulp-guide-cn/)  
2. [butterfly主题：Gulp压缩](https://butterfly.js.org/posts/4073eda/#Gulp%E5%A3%93%E7%B8%AE)  
3. [Hexo使用Gulp压缩静态资源](https://www.voidking.com/dev-hexo-gulp/)  
4. [Hexo 博客静态资源加速](https://akilar.top/posts/969dffe3/)  
5. [Hexo优化:使用gulp压缩静态资源](https://www.fadai.cc/posts/97bf547e/)  
6. [npm 中文文档](https://www.npmjs.cn/)
 



</code></pre>
</div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/myself/pic_page/blog_head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">风子</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://www.windandleaf.xyz/" target="_blank" title="Home"><i class="fas fa-home"></i></a><a class="social-icon" href="https://onedrive.windandleaf.xyz/" target="_blank" title="netdisc"><i class="fas fa-cloud"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎您的到访</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/35d47c44/" title="termux测试">termux测试</a><time datetime="2021-08-12T15:40:02.000Z" title="发表于 2021-08-12 15:40:02">2021-08-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/93396347/" title="论文查重官网合集">论文查重官网合集</a><time datetime="2021-05-21T16:43:42.000Z" title="发表于 2021-05-21 16:43:42">2021-05-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/c4ecce13/" title="红安将军影视城风景图">红安将军影视城风景图</a><time datetime="2021-02-16T11:52:36.000Z" title="发表于 2021-02-16 11:52:36">2021-02-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/cd60506f/" title="常用色彩表">常用色彩表</a><time datetime="2021-01-20T14:27:32.000Z" title="发表于 2021-01-20 14:27:32">2021-01-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/ce066d56/" title="家乡风景图">家乡风景图</a><time datetime="2021-01-17T16:59:00.000Z" title="发表于 2021-01-17 16:59:00">2021-01-17</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2/"><span class="card-category-list-name">博客</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/"><span class="card-category-list-name">生活</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">笔记</span><span class="card-category-list-count">8</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/09/"><span class="card-archive-list-date">九月 2020</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">13</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-06-19T09:21:52.494Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 风子</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referra"><img src="https://cdn.jsdelivr.net/gh/xingjiahui/CDN/又拍云_logo.png"align="absmiddle" width="59px" height="30px" /></a><span>又拍云提供CDN加速服务</span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script></p><div class="js-pjax"><script>function loadWaline(){function t(){new Waline(Object.assign({el:"#waline-wrap",serverURL:"https://comment.windandleaf.xyz/",avatar:"monsterid",avatarCDN:"https://sdn.geekzu.org/avatar/",path:location.pathname,visitor:!1,dark:'html[data-theme="dark"]'},null))}"function"==typeof Waline?t():getScript("https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js").then(t)}{function loadOtherComment(){loadWaline()}setTimeout(loadWaline,0)}</script></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/music/"]):not([href="/video/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.removeEventListener("scroll",window.tocScrollFn),window.removeEventListener("scroll",scrollCollect),"object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script></div></div></main></div></body></html>